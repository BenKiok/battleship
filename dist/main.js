!function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(e,n,t){"use strict";t.r(n);var r=function(e){var n=0,t=!1;return{length:e,hit:function(){return n<e&&++n===e&&(t=!0),t}}},o=function(){var e=[],n={hits:[],misses:[]};return{ships:e,opponent:n,setShip:function(n,t){return n.length&&n.hit&&t.length>0&&e.push({is:n,coordinates:t,sunk:!1}),e},receiveAttack:function(t){var r,o;return e.forEach((function(e){e.coordinates.forEach((function(i){"".concat(i)==="".concat(t)&&(o=e.is.hit(),n.hits.push(t),r=!0)})),o&&(e.sunk=!0,o=!o)})),r||n.misses.push(t),r},coordinate:{fromIndex:function(e){var n;return n=e%8,[Math.floor(e/8),n]},toIndex:function(e){return 8*e[0]+e[1]}},checkAllShipsSunk:function(){var n=!0;return e.forEach((function(e){e.sunk||(n=!1)})),n}}},i=function(){for(var e=document.createElement("div"),n=document.createElement("div"),t=0;t<64;t++)e.appendChild(document.createElement("div")),n.appendChild(document.createElement("div"));return[e,n]}();!function(){var e=document.querySelector("#game"),n=document.querySelector("h2"),t=[],c=[],s=!0;n.innerHTML="Player 1 goes first!",i.forEach((function(n){e.appendChild(n)}));var a=o();a.name="Player 1";var u=o();function d(r,o,i){var c,d;if(!r.classList.contains("hit")&&!r.classList.contains("missed"))if(c=Array.from(e.childNodes[i].childNodes).indexOf(r),d=o.coordinate.fromIndex(c),o.receiveAttack(d)){if(r.classList.add("hit"),o.checkAllShipsSunk())return function(){Array.from(e.childNodes[0].childNodes);var r=Array.from(e.childNodes[1].childNodes),o=!0===s?a:u;n.innerHTML="".concat(o.name," won!"),r.forEach((function(e){e.removeEventListener("click",t[r.indexOf(e)])}))}(),!0}else r.classList.add("missed")}u.name="CPU",a.setShip(r(1),[[0,6]]),a.setShip(r(2),[[1,1],[1,2]]),a.setShip(r(3),[[3,4],[3,5],[3,6]]),a.setShip(r(4),[[4,2],[5,2],[6,2],[7,2]]),u.setShip(r(1),[[1,1]]),u.setShip(r(2),[[6,5],[6,6]]),u.setShip(r(3),[[4,1],[5,1],[6,1]]),u.setShip(r(4),[[3,4],[3,5],[3,6],[3,7]]),a.ships.forEach((function(n){n.coordinates.forEach((function(n){var t=a.coordinate.toIndex(n);e.childNodes[0].childNodes[t].classList.add("placed")}))})),e.childNodes[1].childNodes.forEach((function(r){var o=function t(){s&&(d(r,u,1)||(s=!s,r.removeEventListener("click",t),n.innerHTML="CPU is playing...",function(){var t=Math.floor(64*Math.random()),r=e.childNodes[0].childNodes[t];c.forEach((function(e){t===e&&(t=Math.floor(64*Math.random()))})),c.push(t),setTimeout((function(){n.innerHTML="It's the player's turn!",s=!s,d(r,a,0)}),1e3)}()))};t.push(o),r.addEventListener("click",o)}))}()}]);